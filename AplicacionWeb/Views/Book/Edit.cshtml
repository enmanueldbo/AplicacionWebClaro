@model AplicacionWeb.Models.Book

@{
    ViewBag.Title = "Edit";
}

<h2>Edit</h2>

<style>
    input, textarea {
        max-width: 100%;
    }
</style>
<form action="/book/edit" class="form" method="post">

    <input type="hidden" name="ID" value="@Model.ID" />

    <div class="mb-3">
        <label for="Title" class="form-label">Title</label>
        <input type="text" class="form-control" id="Title" name="Title" value="@Model.Title">
    </div>

    <div class="mb-3">
        <label for="PageCount" class="form-label">PageCount</label>
        <input type="number" class="form-control" id="PageCount" name="PageCount" value="@Model.PageCount">
    </div>


    <div class="mb-3">

        <label class="form-label" for="PublishDate">Publish Date</label>
        <input type="datetime" class="form-control" id="PublishDate" name="PublishDate" value="@Model.PublishDate">


    </div>

    <div class="mb-3">

        <label class="form-label" for="Description">Description</label>
        <textarea rows="4" class="form-control text" id="Description" name="Description" >@Model.Description</textarea>

    </div>

    <div class="mb-3">
        <label for="Excerpt" class="form-label">Excerpt</label>
        <textarea rows="4" class="form-control text" id="Excerpt" name="Excerpt">@Model.Excerpt</textarea>

    </div>
    <br />
    <button type="submit" class="btn btn-primary" id="SaveForm">Save</button>

</form>


<div>
    @Html.ActionLink("Back to List", "Index")
</div>

<script>


    $('document').ready(function () {

        var error = "@ViewBag.ErrorMessage";
        var posted = "@ViewBag.Posted";
        var getedit = "@ViewBag.GetEdit";

        if (posted) {
            if (error) {
                Swal.fire({
                    position: 'top-end',
                    icon: 'error',
                    title: 'Error thrown updating the book!',
                    showConfirmButton: false,
                    timer: 2500
                })
            }
            else {
                Swal.fire({
                    position: 'top-end',
                    icon: 'success',
                    title: 'The Book has been updated!',
                    showConfirmButton: false,
                    timer: 1500
                })
            }
        }
        if(getedit) {
            if (error) {
                Swal.fire({
                    position: 'top-end',
                    icon: 'error',
                    title: 'Error thrown looking the book!',
                    showConfirmButton: false,
                    timer: 2500
                })
            }
        }


    })



</script>